import{d as $,a5 as j,c as y,t as C,n as x,h as R,a as w,a6 as N,P as z,B as M,w as V,e as E,j as K,a1 as q,b as D,I as F}from"./index-98350ca9.js";import{K as k,d as g,a as U,c as i,b as Y,m as Z,k as G,z as H,j as v,e as p,q as J,y as L}from"./index-f8123759.js";function Q(e,{args:r=[],done:a,canceled:t}){if(e){const c=e.apply(null,r);$(c)?c.then(n=>{n?a():t&&t()}).catch(j):c?a():t&&t()}else a()}const W={to:[String,Object],url:String,replace:Boolean};function X({to:e,url:r,replace:a,$router:t}){e&&t?t[a?"replace":"push"](e):r&&(a?location.replace(r):location.href=r)}function ee(){const e=k().proxy;return()=>X(e)}const[S,I]=y("tabbar"),ae={route:Boolean,fixed:C,border:C,zIndex:x,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:R(0),safeAreaInsetBottom:{type:Boolean,default:null}},A=Symbol(S);var te=g({name:S,props:ae,emits:["change","update:modelValue"],setup(e,{emit:r,slots:a}){const t=U(),{linkChildren:c}=w(A),n=N(t,I),d=()=>{var s;return(s=e.safeAreaInsetBottom)!=null?s:e.fixed},o=()=>{var s;const{fixed:l,zIndex:u,border:m}=e;return i("div",{ref:t,role:"tablist",style:z(u),class:[I({fixed:l}),{[M]:m,"van-safe-area-bottom":d()}]},[(s=a.default)==null?void 0:s.call(a)])};return c({props:e,setActive:(s,l)=>{Q(e.beforeChange,{args:[s],done(){r("update:modelValue",s),r("change",s),l()}})}}),()=>e.fixed&&e.placeholder?n(o):o()}});const ne=V(te),[oe,h]=y("tabbar-item"),re=E({},W,{dot:Boolean,icon:String,name:x,badge:x,badgeProps:Object,iconPrefix:String});var ce=g({name:oe,props:re,emits:["click"],setup(e,{emit:r,slots:a}){const t=ee(),c=k().proxy,{parent:n,index:d}=K(A);if(!n)return;const o=Y(()=>{var l;const{route:u,modelValue:m}=n.props;if(u&&"$route"in c){const{$route:_}=c,{to:b}=e,f=D(b)?b:{path:b};return!!_.matched.find(B=>{const T="path"in f&&f.path===B.path,O="name"in f&&f.name===B.name;return T||O})}return((l=e.name)!=null?l:d.value)===m}),P=l=>{var u;o.value||n.setActive((u=e.name)!=null?u:d.value,t),r("click",l)},s=()=>{if(a.icon)return a.icon({active:o.value});if(e.icon)return i(F,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var l;const{dot:u,badge:m}=e,{activeColor:_,inactiveColor:b}=n.props,f=o.value?_:b;return i("div",{role:"tab",class:h({active:o.value}),style:{color:f},tabindex:0,"aria-selected":o.value,onClick:P},[i(q,Z({dot:u,class:h("icon"),content:m},e.badgeProps),{default:s}),i("div",{class:h("text")},[(l=a.default)==null?void 0:l.call(a,{active:o.value})])])}}});const se=V(ce);const ue=g({__name:"tabbar",props:{active:{}},setup(e){let a=e.active;return(t,c)=>{const n=se,d=ne;return G(),H(d,{id:"tabbar",modelValue:J(a),"onUpdate:modelValue":c[0]||(c[0]=o=>L(a)?a.value=o:a=o)},{default:v(()=>[i(n,{to:"/addcode",icon:"new-o"},{default:v(()=>[p("新建活码")]),_:1}),i(n,{to:"/mycode",icon:"hot-o"},{default:v(()=>[p("我的活码")]),_:1}),i(n,{to:"/statistics",icon:"label-o"},{default:v(()=>[p("数据统计")]),_:1}),i(n,{to:"/person",icon:"smile-o"},{default:v(()=>[p("个人中心")]),_:1})]),_:1},8,["modelValue"])}}});export{ue as _,X as a,Q as c,W as r,ee as u};
